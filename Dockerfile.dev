FROM python:3.11-alpine

WORKDIR /workspace

RUN apk add --no-cache \
    curl \
    git \
    bash \
    gcc \
    musl-dev \
    libffi-dev \
    openssl-dev

RUN curl -fsSL https://bun.sh/install | bash
ENV PATH="/root/.bun/bin:${PATH}"

RUN pip install --no-cache-dir hatch

EXPOSE 5173 8000

CMD ["/bin/bash"]
